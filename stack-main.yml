AWSTemplateFormatVersion: "2010-09-09"

Description: "Stack Anidado"

Resources:
  LambdasDynamoEvents:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: ""

  AttendeeRegistersStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: ""
      Parameters:
        EventsTableArn: !GetAtt LambdasDynamoEvents.Outputs.EventsTableArn
        EventsTableName: !GetAtt LambdasDynamoEvents.Outputs.EventsTableName
    DependsOn: LambdasDynamoEvents

  APIGatewayAuthorizerStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: ""
      Parameters:
        LambdaCreateEventFunctionArn: !GetAtt LambdasDynamoEvents.Outputs.LambdaCreateEventFunctionArn
        LambdaEditEventFunctionArn: !GetAtt LambdasDynamoEvents.Outputs.LambdaEditEventFunctionArn
        LambdaDeleteEventFunctionArn: !GetAtt LambdasDynamoEvents.Outputs.LambdaDeleteEventFunctionArn
        LambdaViewEventFunctionArn: !GetAtt LambdasDynamoEvents.Outputs.LambdaViewEventFunctionArn
        AttendeeRegisterLambdaArn: !GetAtt AttendeeRegistersStack.Outputs.AttendeeRegisterLambdaArn
    DependsOn: AttendeeRegistersStack
